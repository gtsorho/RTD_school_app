
  <div class="fixed bottom-6 right-6 z-50"        
      (dragover)="allowDrop($event)"
       (drop)="drop($event)">
    <button class="rounded-full bg-black text-white px-4 py-3 shadow-lg hover:bg-gray-800 transition-colors duration-200 focus:outline-none">
      <i class="bi bi-trash3 text-xl"></i>
    </button>
  </div>


  <div class=" flex flex-col w-full rounded  overflow-auto bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-300   shadow-lg bg-clip-border">

  <!-- Trash Icon -->


  <!-- Table -->
  <table class="table-auto w-full overflow-auto lg:max-h-[7in] relative ">
    <thead class="sticky top-0 z-50 bg-red-700 rounded text-white">
      <tr>
        <th class="p-4 border-b border-slate-300 text-start dark:border-slate-600 sticky left-0 z-[60] bg-red-700">
          Ass. Title
        </th>
        <th class="p-4 border-b border-slate-300 text-start dark:border-slate-600">
          Type
        </th>
        <th class="p-4 border-b border-slate-300 text-start dark:border-slate-600">
          Term/Year
        </th>
        <th class="p-4 border-b border-slate-300 text-start dark:border-slate-600">
          Weight
        </th>
        <th class="p-4 border-b border-slate-300 text-start dark:border-slate-600">
          Score
        </th>
        <th class="p-4 border-b border-slate-300 text-start dark:border-slate-600">
          Effort
        </th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let assessment of assessments; let i = index"
          class="group hover:bg-slate-100 dark:hover:bg-slate-700 font-mono text-gray-500">
        
        <!-- Draggable Title -->
        <td class="px-4 border-b border-slate-200 font-bold dark:border-slate-700 sticky left-0 z-40 cursor-move bg-slate-50 dark:bg-slate-900 group-hover:bg-slate-200 dark:group-hover:bg-slate-800"
            draggable="true"
            (dragstart)="drag($event, i)">
          {{ assessment.title }}
        </td>

        <!-- Author Cell (Editable) -->
        <td class="px-4 border-b border-slate-200 capitalize dark:border-slate-700 bg-white dark:bg-slate-800 group-hover:bg-slate-100 dark:group-hover:bg-slate-700">
          <div >{{ assessment.assessment.type }}</div>
        </td>

        <!-- Year Cell (Editable) -->
        <td class="px-4 capitalize border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 group-hover:bg-slate-200 dark:group-hover:bg-slate-800">
          <div>{{ assessment.assessment.academicYear.name }}</div>
          <div class="text-xs">{{assessment.assessment.term.name}}</div>
        <!-- Genre Cell (Editable) -->
        <td class="px-4 capitalize border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 group-hover:bg-slate-100 dark:group-hover:bg-slate-700">
          <div>{{ assessment.weight }}</div>
        </td>
        <td class="px-4 capitalize border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 group-hover:bg-slate-100 dark:group-hover:bg-slate-700">
          <input
              type="text"
              [(ngModel)]="assessment.score"
              (change)="onScoreChange(i, $event)"
              class="h-8 border border-transparent text-gray-700 focus:border-1 focus:border-red-700 focus:ring-red-700 focus:outline-none mt-1 rounded px-4 w-full "
          />
        </td>
        <td class="px-4 capitalize border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 group-hover:bg-slate-100 dark:group-hover:bg-slate-700">
          <input
            type="text"
            [(ngModel)]="assessment.effort"
            (change)="onEffortChange(i, $event)"
            class="h-8 border border-transparent text-gray-700 focus:border-red-700 focus:ring-red-700 focus:outline-none mt-1 rounded px-4 w-full bg-transparent "
          />
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="loading" class="z-50 absolute inset-0 flex items-center justify-center bg-gray-500 bg-opacity-70">
    <app-spinner color="spinner-white" size="spinner-sm" ></app-spinner>
</div>
</div>
